public ChushkaDbContext() { }

        public ChushkaDbContext(DbContextOptions options)
            : base(options)
        {

        }

        public DbSet<User> Users { get; set; }

        public DbSet<Product> Products { get; set; }

        public DbSet<Order> Orders { get; set; }


        protected override void OnModelCreating(ModelBuilder builder)
        {
            builder.Entity<User>().HasAlternateKey(u => u.Username);

            builder.Entity<User>().HasAlternateKey(u => u.Email);
        }

        internal bool Any()
        {
            throw new NotImplementedException();
        }

        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
            optionsBuilder.UseSqlServer(@"Server=(localdb)\MSSQLLocalDB;Database=ChuskaShare;Integrated Security=True;");
        }

     //   public override int SaveChanges()
        //{
        //    var entities = this.ChangeTracker.Entries().Where(e => e.State == EntityState.Modified || e.State == EntityState.Added)
        //        .Select(e => e.Entity).ToList();

        //    foreach (var entity in entities)
        //    {
        //        try
        //        {
        //            Validate(entity);
        //        }
        //        catch (ValidationException e)
        //        {
        //            this.Entry(entity).State = EntityState.Detached;
        //            throw new ValidationException(e.Message);
        //        }
        //    }
        //    return base.SaveChanges();
       // }

        //private void Validate(object entity)
        //{
        //    var validationContext = new ValidationContext(entity);


        //    Validator.ValidateObject(
        //        entity,
        //        validationContext,
        //        validateAllProperties: true);
        //}